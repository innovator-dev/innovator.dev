class Dialog{constructor(c,d){this.options={dialogClassName:null,dialogPlaceholderClassName:null,size:{x:0,y:0},position:{},autoShow:!0,autoClose:!1,closeOnEsc:!0,closeOnOutsideClick:!0,callback:{onBeforeShow:null,onShow:null,onClose:null},linkTo:null};this.options=Object.assign(this.options,d);this.create(c)}static isChild(c,d){d=d.getElementsByTagName("*");for(let a=0;a<d.length;a++)if(d[a]===c)return!0;return!1}static closeAll(){document.querySelectorAll("[dialog-id]").forEach(c=>{"function"===
typeof c.close&&c.close()})}create(c){this.dlg=document.createElement("div");this.dlgPlaceholder=document.createElement("div");this.dlgPlaceholder.classList.add("dialog-placeholder");this.dlg.classList.add("dialog");null!==this.options.dialogPlaceholderClassName&&this.dlgPlaceholder.classList.add(this.options.dialogPlaceholderClassName);null!==this.options.dialogClassName&&this.dlg.classList.add(this.options.dialogClassName);this.dlgPlaceholder.setAttribute("dialog-id",Math.random().toString(36).substring(2,
9));this.dlgPlaceholder.style.visibility="hidden";this.dlg.setAttribute("dialog-id",Math.random().toString(36).substring(2,9));this.dlg.innerHTML=c;document.body.appendChild(this.dlgPlaceholder);c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;let d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(null!==this.options.linkTo)this.options.linkTo.parentNode.insertBefore(this.dlg,this.options.linkTo.nextSibling),this.dlg.style.marginLeft=
void 0!==this.options.position.x?`${this.options.position.x}px`:0,this.dlg.style.marginTop=void 0!==this.options.position.y?`${this.options.position.y}px`:0;else{this.dlgPlaceholder.appendChild(this.dlg);var a=getComputedStyle(this.dlg);const b=a.getPropertyValue("width");a=a.getPropertyValue("height");this.options.size={x:b.match(/px/)?parseInt(b.replace(/px/,"")):b.match(/%/)?c*parseInt(b.replace(/%/,""))/100:this.dlg.offsetWidth,y:a.match(/px/)?parseInt(a.replace(/px/,"")):a.match(/%/)?d*parseInt(a.replace(/%/,
""))/100:this.dlg.offsetHeight};this.dlg.style.marginLeft=void 0!==this.options.position.x?`${this.options.position.x}px`:`${(c-parseInt(this.options.size.x))/2}px`;this.dlg.style.marginTop=void 0!==this.options.position.y?`${this.options.position.y}px`:`${(d-parseInt(this.options.size.y))/2}px`}this.options.autoClose&&setTimeout(()=>{this.close()},1E3*parseInt(this.options.autoClose));this.options.closeOnEsc&&document.addEventListener("keyup",b=>{let e=b.code;b=b.target;3===b.nodeType&&(b=b.parentNode);
/(ArrowUp|ArrowDown|Escape|Space)/.test(e)&&!/input|textarea/i.test(b.tagName)&&"Escape"===e&&this.isVisible()&&this.close()});this.options.closeOnOutsideClick&&this.dlgPlaceholder.addEventListener("click",b=>{b=b.target;this.isVisible()&&b!==this.dlg&&!Dialog.isChild(b,this.dlg)&&this.close()});this.options.autoShow&&this.show()}isVisible(){return this.dlgPlaceholder&&"visible"===this.dlgPlaceholder.style.visibility}isCreated(){return null!==this.dlgPlaceholder}close(){if(this.isVisible()){if("function"===
typeof this.options.callback.onClose)this.options.callback.onClose();this.dlg.parentNode.removeChild(this.dlg);this.dlgPlaceholder.parentNode.removeChild(this.dlgPlaceholder);this.dlgPlaceholder=null}}show(){if("function"===typeof this.options.callback.onBeforeShow)this.options.callback.onBeforeShow();this.dlgPlaceholder.style.visibility="visible";if("function"===typeof this.options.callback.onShow)this.options.callback.onShow()}}
const app=(()=>({slide:function(){let c=document.querySelector(".btn-menu"),d=document.querySelector(".slide-menu");null!==c&&null!==d&&c.addEventListener("click",a=>{a.preventDefault();a.stopPropagation();const b=new Dialog(`<div class="container">${d.innerHTML}</div>`,{dialogClassName:"slide-menu-dialog",dialogPlaceholderClassName:"slide-menu-dialog-placeholder",position:{x:0,y:0},callback:{onShow:()=>{c.style.visibility="hidden";document.body.classList.add("no-scroll");document.querySelector(".logo").classList.add("logo-slide-menu")},
onClose:()=>{c.style.visibility="visible";document.body.classList.remove("no-scroll");document.querySelector(".logo").classList.remove("logo-slide-menu")}}});(a=b.dlg.querySelector("button.btn-slide-close"))&&a.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();b.close()})})},dropdown:function(c,d=null){c=document.querySelectorAll(c);c.length&&c.forEach(a=>{let b=a.getAttribute("data-ref"),e=document.querySelector(dialogRef);a.getAttribute("data-attr");b&&e&&a.addEventListener("click",
f=>{f.preventDefault();f.stopPropagation();dialogAttr&&dialogAttr.includes("CloseAll")&&Dialog.closeAll();a.classList.add("selected");const g=new Dialog(dialogBody.innerHTML,{dialogClassName:dialogAttr&&dialogAttr.includes("IsDropdown")?"dialog-dropdown":"dialog-shadowed",dialogPlaceholderClassName:dialogAttr&&dialogAttr.includes("IsDropdown")?"dialog-placeholder":"dialog-placeholder-shadowed",closeOnEsc:!0,closeOnOutsideClick:!0,linkTo:dialogAttr&&dialogAttr.includes("LinkTo")?a:null,callback:{onClose:()=>
{a.classList.remove("selected")}}});d&&d(g,a.dataset||null);(f=g.dlg.querySelector(".close-dialog"))&&f.addEventListener("click",h=>{h.preventDefault();h.stopPropagation();g.close()})})})}}))();(()=>{app.slide();app.dropdown()})();
